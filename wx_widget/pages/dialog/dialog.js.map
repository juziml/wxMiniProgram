{"version":3,"sources":["../../example/pages/dialog/dialog.ts"],"names":[],"mappings":"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","file":"dialog.js","sourcesContent":["// @ts-ignore\nimport Dialog from 'tdesign-miniprogram/dialog/index';\n\nconst title = '对话框标题';\nconst maxTitle = '对话框标题告知当前状态、信息和解决方法，等内容。描述文案尽可能控制在三行内';\nconst message = '告知当前状态、信息和解决方法，等内容。描述文案尽可能控制在三行内';\n\ninterface Config {\n  title: string;\n  tConfirmBtn: string;\n  content: string;\n  confirmBtn: string;\n  cancelBtn: string;\n  buttonLayout: 'horizontal' | 'vertical';\n  actions: boolean | { name: string; primary?: boolean; style?: string }[];\n}\n\nconst dialogConfig: Config = {\n  title: '',\n  tConfirmBtn: '',\n  content: '',\n  confirmBtn: '',\n  cancelBtn: '',\n  buttonLayout: 'horizontal',\n  actions: false,\n};\n\nconst modelConfigFactory = (opt: Partial<Config>) => {\n  return {\n    ...dialogConfig,\n    ...opt,\n  };\n};\n\nPage({\n  data: {\n    show: false,\n    useSlot: false,\n    dialogConfig,\n    currentKey: '',\n    operList: [\n      {\n        title: '反馈类对话框',\n        btns: [\n          {\n            type: 'text',\n            text: '单行标题',\n          },\n          {\n            type: 'multiText',\n            text: '多行标题最大高度',\n          },\n          {\n            type: 'textAndTitle',\n            text: '带说明文本',\n          },\n          {\n            type: 'multiTextAndTitle',\n            text: '带说明文本最大高度',\n          },\n        ],\n      },\n      {\n        title: '确认类对话框',\n        btns: [\n          {\n            type: 'confirm',\n            text: '双按钮',\n          },\n          {\n            type: 'warnConfirm',\n            text: '带警示按钮',\n          },\n          {\n            type: 'tooLongBtnContent',\n            text: '双按钮文字过长',\n          },\n          {\n            type: 'multiBtn',\n            text: '多按钮',\n          },\n        ],\n      },\n      {\n        title: '输入类对话框',\n        btns: [\n          {\n            type: 'withInput',\n            text: '单行标题',\n          },\n          {\n            type: 'textAndTitleWithInput',\n            text: '带说明文本',\n          },\n        ],\n      },\n      {\n        title: '命令调用',\n        btns: [\n          {\n            type: 'commandWithCancel',\n            text: '带取消按钮',\n          },\n          {\n            type: 'command',\n            text: '无取消按钮',\n          },\n        ],\n      },\n    ],\n  },\n\n  /** 切换dialog配置项 */\n  clickHandle(e) {\n    const key = e.detail;\n    switch (key) {\n      // 纯文本弹窗\n      case 'text':\n      case 'multiText': {\n        this.setData({\n          show: true,\n          currentKey: key,\n          dialogConfig: modelConfigFactory({\n            title: key === 'text' ? title : maxTitle,\n            confirmBtn: '知道了',\n          }),\n        });\n        return;\n      }\n      // 标题&副标题弹窗\n      case 'textAndTitle':\n      case 'multiTextAndTitle': {\n        this.setData({\n          show: true,\n          currentKey: key,\n          dialogConfig: modelConfigFactory({\n            title: key === 'textAndTitle' ? title : '对话框带文本最大高度',\n            content: key === 'textAndTitle' ? message : '',\n            confirmBtn: '我知道了',\n          }),\n        });\n        return;\n      }\n      // 确认弹窗-普通\n      case 'confirm': {\n        this.setData({\n          show: true,\n          currentKey: key,\n          dialogConfig: modelConfigFactory({\n            title,\n            content: message,\n            confirmBtn: '按钮最多字数',\n            cancelBtn: '取消',\n          }),\n        });\n        return;\n      }\n      // 确认弹窗-警示操作\n      case 'warnConfirm': {\n        this.setData({\n          show: true,\n          currentKey: key,\n          dialogConfig: modelConfigFactory({\n            title,\n            tConfirmBtn: 'custom-confirm-btn',\n            confirmBtn: '警示操作',\n            cancelBtn: '取消',\n          }),\n        });\n        return;\n      }\n      // 按钮文字过长弹层\n      case 'tooLongBtnContent': {\n        this.setData({\n          show: true,\n          currentKey: key,\n          dialogConfig: modelConfigFactory({\n            title,\n            content: message,\n            confirmBtn: '按钮文案文字内容较长',\n            cancelBtn: '取消',\n            buttonLayout: 'vertical',\n          }),\n        });\n        return;\n      }\n      // 多按钮弹层\n      case 'multiBtn': {\n        this.setData({\n          show: true,\n          currentKey: key,\n          dialogConfig: modelConfigFactory({\n            title,\n            content: message,\n            buttonLayout: 'vertical', // 'horizontal' | 'vertical'\n            actions: [\n              { name: '取消', primary: false },\n              { name: '单行按钮最多十五个字符文案内容', primary: true },\n              { name: '按钮文案文字内容较长', primary: true, style: 'color:red;' },\n            ], // {name: string, primary?: string}\n          }),\n        });\n        return;\n      }\n      // 带输入弹窗\n      case 'withInput':\n      case 'textAndTitleWithInput': {\n        this.setData({\n          show: true,\n          useSlot: true,\n          currentKey: key,\n          dialogConfig: modelConfigFactory({\n            title: '带输入框对话框',\n            content: key === 'withInput' ? '' : message,\n            confirmBtn: '确认',\n            cancelBtn: '取消',\n          }),\n        });\n        return;\n      }\n      case 'commandWithCancel': {\n        Dialog.confirm({\n          title: '弹窗标题',\n          content: '告知当前状态、信息和解决方法等内容。',\n          confirmBtn: '确认按钮',\n          cancelBtn: '取消按钮',\n        });\n        return;\n      }\n      case 'command': {\n        Dialog.confirm({\n          title: '弹窗标题',\n          content: '告知当前状态、信息和解决方法等内容。',\n          confirmBtn: '确认按钮',\n        });\n        return;\n      }\n      default: {\n        Dialog.alert({\n          title: `未知key: ${key}`,\n          content: '',\n        });\n        break;\n      }\n    }\n  },\n\n  /** 异步关闭弹层 */\n  closeHandle() {\n    this.confirmHandle();\n  },\n\n  /** 普通弹层关闭 */\n  confirmHandle() {\n    this.setData({\n      show: false,\n      useSlot: false,\n    });\n  },\n});\n"]}